{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/mecze/dodaj/page.tsx"],"sourcesContent":["// frontend/src/app/mecze/dodaj/page.tsx\n\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { createOne, getAll } from \"@/api\";\n\ntype Klub = {\n  id_klubu: number;\n  nazwa: string;\n};\n\nexport default function MeczeDodajPage() {\n  const router = useRouter();\n\n  const [kluby, setKluby] = useState<Klub[]>([]);\n  const [loadingKluby, setLoadingKluby] = useState(true);\n  const [klubyError, setKlubyError] = useState<string | null>(null);\n\n  const [idGospodarze, setIdGospodarze] = useState<number | \"\">(\"\");\n  const [idGoscie, setIdGoscie] = useState<number | \"\">(\"\");\n  const [data, setData] = useState<string>(\"\"); // format YYYY-MM-DD\n  const [idStadionu, setIdStadionu] = useState<number | \"\">(\"\");\n  const [nierozstrzygniety, setNierozstrzygniety] = useState<boolean>(false);\n  const [rodzaj, setRodzaj] = useState<string>(\"\");\n  const [uwagi, setUwagi] = useState<string>(\"\");\n\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    getAll(\"kluby\")\n      .then((res) => {\n        setKluby(res.data);\n      })\n      .catch((err) => {\n        console.error(\"Błąd pobierania klubów:\", err);\n        setKlubyError(\"Nie udało się pobrać listy klubów.\");\n      })\n      .finally(() => setLoadingKluby(false));\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // proste walidacje\n    if (\n      idGospodarze === \"\" ||\n      idGoscie === \"\" ||\n      data.trim() === \"\" ||\n      idStadionu === \"\"\n    ) {\n      setError(\"Proszę wypełnić obowiązkowe pola: Gospodarze, Goście, Data, Stadion.\");\n      return;\n    }\n    if (idGospodarze === idGoscie) {\n      setError(\"Gospodarze i Goście nie mogą być tym samym klubem.\");\n      return;\n    }\n\n    try {\n      await createOne(\"mecze\", {\n        id_gospodarze: Number(idGospodarze),\n        id_goscie: Number(idGoscie),\n        data: data,\n        id_stadionu: Number(idStadionu),\n        nierozstrzygniety,\n        rodzaj_meczu: rodzaj.trim() || null,\n        uwagi: uwagi.trim() || null,\n      });\n      router.push(\"/mecze\");\n    } catch (err) {\n      console.error(\"Błąd tworzenia meczu:\", err);\n      setError(\"Nie udało się dodać meczu. Spróbuj ponownie.\");\n    }\n  };\n\n  return (\n    <div>\n      <h1>Dodaj nowy mecz</h1>\n\n      {klubyError && (\n        <p style={{ color: \"red\", marginBottom: \"1rem\" }}>{klubyError}</p>\n      )}\n\n      {error && (\n        <p style={{ color: \"red\", marginBottom: \"1rem\" }}>{error}</p>\n      )}\n\n      <form onSubmit={handleSubmit} style={{ maxWidth: 400 }}>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Gospodarze:</label>\n          <br />\n          {loadingKluby ? (\n            <p>Ładowanie listy klubów…</p>\n          ) : (\n            <select\n              value={idGospodarze}\n              onChange={(e) => setIdGospodarze(Number(e.target.value))}\n              required\n              style={{ width: \"100%\", padding: \"0.4rem\" }}\n            >\n              <option value=\"\">— wybierz klub —</option>\n              {kluby.map((k) => (\n                <option key={k.id_klubu} value={k.id_klubu}>\n                  {k.nazwa}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Goście:</label>\n          <br />\n          {loadingKluby ? (\n            <p>Ładowanie listy klubów…</p>\n          ) : (\n            <select\n              value={idGoscie}\n              onChange={(e) => setIdGoscie(Number(e.target.value))}\n              required\n              style={{ width: \"100%\", padding: \"0.4rem\" }}\n            >\n              <option value=\"\">— wybierz klub —</option>\n              {kluby.map((k) => (\n                <option key={k.id_klubu} value={k.id_klubu}>\n                  {k.nazwa}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Data meczu:</label>\n          <br />\n          <input\n            type=\"date\"\n            value={data}\n            onChange={(e) => setData(e.target.value)}\n            required\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Stadion (ID stadionu):</label>\n          <br />\n          <input\n            type=\"number\"\n            value={idStadionu}\n            onChange={(e) => setIdStadionu(Number(e.target.value))}\n            required\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n            min={1}\n          />\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>\n            <input\n              type=\"checkbox\"\n              checked={nierozstrzygniety}\n              onChange={(e) => setNierozstrzygniety(e.target.checked)}\n              style={{ marginRight: \"0.3rem\" }}\n            />\n            Mecz nierozstrzygnięty\n          </label>\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Rodzaj meczu:</label>\n          <br />\n          <input\n            type=\"text\"\n            value={rodzaj}\n            onChange={(e) => setRodzaj(e.target.value)}\n            placeholder=\"np. Ligowy, Towarzyski\"\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Uwagi:</label>\n          <br />\n          <textarea\n            value={uwagi}\n            onChange={(e) => setUwagi(e.target.value)}\n            rows={2}\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          style={{\n            marginTop: \"1rem\",\n            backgroundColor: \"#0070f3\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Dodaj mecz\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/mecze\")}\n          style={{\n            marginTop: \"1rem\",\n            marginLeft: \"1rem\",\n            backgroundColor: \"#aaa\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Anuluj\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;AAGxC;AACA;AACA;;;AAJA;;;;AAWe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,KAAK,oBAAoB;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC1D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IACpE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAE3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,CAAA,GAAA,sHAAA,CAAA,SAAM,AAAD,EAAE,SACJ,IAAI;4CAAC,CAAC;oBACL,SAAS,IAAI,IAAI;gBACnB;2CACC,KAAK;4CAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,2BAA2B;oBACzC,cAAc;gBAChB;2CACC,OAAO;4CAAC,IAAM,gBAAgB;;QACnC;mCAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,mBAAmB;QACnB,IACE,iBAAiB,MACjB,aAAa,MACb,KAAK,IAAI,OAAO,MAChB,eAAe,IACf;YACA,SAAS;YACT;QACF;QACA,IAAI,iBAAiB,UAAU;YAC7B,SAAS;YACT;QACF;QAEA,IAAI;YACF,MAAM,CAAA,GAAA,sHAAA,CAAA,YAAS,AAAD,EAAE,SAAS;gBACvB,eAAe,OAAO;gBACtB,WAAW,OAAO;gBAClB,MAAM;gBACN,aAAa,OAAO;gBACpB;gBACA,cAAc,OAAO,IAAI,MAAM;gBAC/B,OAAO,MAAM,IAAI,MAAM;YACzB;YACA,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,SAAS;QACX;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;YAEH,4BACC,6LAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAO,cAAc;gBAAO;0BAAI;;;;;;YAGpD,uBACC,6LAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAO,cAAc;gBAAO;0BAAI;;;;;;0BAGrD,6LAAC;gBAAK,UAAU;gBAAc,OAAO;oBAAE,UAAU;gBAAI;;kCACnD,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;4BACA,6BACC,6LAAC;0CAAE;;;;;qDAEH,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,OAAO,EAAE,MAAM,CAAC,KAAK;gCACtD,QAAQ;gCACR,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;;kDAE1C,6LAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,MAAM,GAAG,CAAC,CAAC,kBACV,6LAAC;4CAAwB,OAAO,EAAE,QAAQ;sDACvC,EAAE,KAAK;2CADG,EAAE,QAAQ;;;;;;;;;;;;;;;;;kCAQ/B,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;4BACA,6BACC,6LAAC;0CAAE;;;;;qDAEH,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,OAAO,EAAE,MAAM,CAAC,KAAK;gCAClD,QAAQ;gCACR,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;;kDAE1C,6LAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,MAAM,GAAG,CAAC,CAAC,kBACV,6LAAC;4CAAwB,OAAO,EAAE,QAAQ;sDACvC,EAAE,KAAK;2CADG,EAAE,QAAQ;;;;;;;;;;;;;;;;;kCAQ/B,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;0CACD,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,QAAQ;gCACR,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;;;;;;;;;;;;kCAI9C,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;0CACD,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,OAAO,EAAE,MAAM,CAAC,KAAK;gCACpD,QAAQ;gCACR,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;gCAC1C,KAAK;;;;;;;;;;;;kCAIT,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;kCACnC,cAAA,6LAAC;;8CACC,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,OAAO;oCACtD,OAAO;wCAAE,aAAa;oCAAS;;;;;;gCAC/B;;;;;;;;;;;;kCAKN,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;0CACD,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,aAAY;gCACZ,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;;;;;;;;;;;;kCAI9C,6LAAC;wBAAI,OAAO;4BAAE,cAAc;wBAAS;;0CACnC,6LAAC;0CAAM;;;;;;0CACP,6LAAC;;;;;0CACD,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,MAAM;gCACN,OAAO;oCAAE,OAAO;oCAAQ,SAAS;gCAAS;;;;;;;;;;;;kCAI9C,6LAAC;wBACC,MAAK;wBACL,OAAO;4BACL,WAAW;4BACX,iBAAiB;4BACjB,OAAO;4BACP,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;kCAGD,6LAAC;wBACC,MAAK;wBACL,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,OAAO;4BACL,WAAW;4BACX,YAAY;4BACZ,iBAAiB;4BACjB,OAAO;4BACP,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;;;;;;;;;;;;;AAMT;GArNwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}