{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/historia-klub-liga/dodaj/page.tsx"],"sourcesContent":["// frontend/src/app/historia-klub-liga/dodaj/page.tsx\n\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { createOne, getAll } from \"@/api\";\n\ntype Klub = { id_klubu: number; nazwa: string };\ntype Liga = { id_ligi: number; nazwa: string };\ntype Sezon = { id_sezonu: number; data_poczatek: string; data_koniec: string };\n\nexport default function HistoriaKlubLigaDodajPage() {\n  const router = useRouter();\n\n  const [kluby, setKluby] = useState<Klub[]>([]);\n  const [ligi, setLigi] = useState<Liga[]>([]);\n  const [sezony, setSezony] = useState<Sezon[]>([]);\n\n  const [wybranyKlub, setWybranyKlub] = useState<number | \"\">(\"\");\n  const [wybranaLiga, setWybranaLiga] = useState<number | \"\">(\"\");\n  const [wybranySezon, setWybranySezon] = useState<number | \"\">(\"\");\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Pobierz wszystkie trzy listy równolegle\n    Promise.all([\n      getAll(\"kluby\"),\n      getAll(\"ligi\"),\n      getAll(\"sezony\"),\n    ])\n      .then(([resKluby, resLigi, resSezony]) => {\n        setKluby(resKluby.data);\n        setLigi(resLigi.data);\n        setSezony(resSezony.data);\n      })\n      .catch((err) =>\n        console.error(\"Błąd pobierania danych do formularza:\", err)\n      )\n      .finally(() => setLoading(false));\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!wybranyKlub || !wybranaLiga || !wybranySezon) return;\n\n    const payload = {\n      id_klubu: wybranyKlub,\n      id_ligi: wybranaLiga,\n      id_sezonu: wybranySezon,\n    };\n\n    try {\n      await createOne(\"historia_klub_liga\", payload);\n      router.push(\"/historia-klub-liga\");\n    } catch (err) {\n      console.error(\"Błąd dodawania wpisu historii:\", err);\n      alert(\"Nie udało się dodać wpisu historii.\");\n    }\n  };\n\n  if (loading) {\n    return <p>Ładowanie formularza…</p>;\n  }\n\n  return (\n    <div>\n      <h1>Dodaj wpis do historii klub→liga</h1>\n      <form onSubmit={handleSubmit} style={{ maxWidth: 400 }}>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Klub:</label>\n          <br />\n          <select\n            value={wybranyKlub}\n            onChange={(e) =>\n              setWybranyKlub(Number(e.target.value))\n            }\n            required\n          >\n            <option value=\"\">— wybierz klub —</option>\n            {kluby.map((k) => (\n              <option key={k.id_klubu} value={k.id_klubu}>\n                {k.nazwa} (ID: {k.id_klubu})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Liga:</label>\n          <br />\n          <select\n            value={wybranaLiga}\n            onChange={(e) =>\n              setWybranaLiga(Number(e.target.value))\n            }\n            required\n          >\n            <option value=\"\">— wybierz ligę —</option>\n            {ligi.map((l) => (\n              <option key={l.id_ligi} value={l.id_ligi}>\n                {l.nazwa} (ID: {l.id_ligi})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Sezon:</label>\n          <br />\n          <select\n            value={wybranySezon}\n            onChange={(e) =>\n              setWybranySezon(Number(e.target.value))\n            }\n            required\n          >\n            <option value=\"\">— wybierz sezon —</option>\n            {sezony.map((s) => (\n              <option key={s.id_sezonu} value={s.id_sezonu}>\n                {s.data_poczatek} – {s.data_koniec} (ID: {s.id_sezonu})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          type=\"submit\"\n          style={{\n            marginTop: \"1rem\",\n            backgroundColor: \"#0070f3\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Zapisz\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/historia-klub-liga\")}\n          style={{\n            marginTop: \"1rem\",\n            marginLeft: \"1rem\",\n            backgroundColor: \"#aaa\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Anuluj\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}