{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/kluby/edytuj/%5BidKlubu%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter, useParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { getOne, updateOne } from \"@/api\";\n\ntype Klub = {\n  id_klubu: number;\n  nazwa: string;\n  miasto: string;\n  id_stadionu: number | null;\n  rok_zalozenia: number | null;\n};\n\nexport default function KlubyEdytujPage() {\n  const router = useRouter();\n  const params = useParams(); // { idKlubu: \"123\" }\n  const idKlubu = Number(params?.idKlubu);\n\n  const [klub, setKlub] = useState<Klub | null>(null);\n  const [nazwa, setNazwa] = useState(\"\");\n  const [miasto, setMiasto] = useState(\"\");\n  const [idStadionu, setIdStadionu] = useState<number | \"\">(\"\");\n  const [rokZalozenia, setRokZalozenia] = useState<number | \"\">(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!idKlubu) {\n      setError(\"Brak ID klubu w URL.\");\n      setLoading(false);\n      return;\n    }\n    getOne(\"kluby\", idKlubu)\n      .then((res) => {\n        const data: Klub = res.data;\n        setKlub(data);\n        setNazwa(data.nazwa);\n        setMiasto(data.miasto);\n        setIdStadionu(data.id_stadionu === null ? \"\" : data.id_stadionu);\n        setRokZalozenia(\n          data.rok_zalozenia === null ? \"\" : data.rok_zalozenia\n        );\n      })\n      .catch((err) => {\n        console.error(\"Błąd pobierania klubu:\", err);\n        setError(\"Nie udało się pobrać danych klubu.\");\n      })\n      .finally(() => setLoading(false));\n  }, [idKlubu]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!klub) return;\n\n    if (!nazwa.trim() || !miasto.trim()) {\n      setError(\"Nazwa i miasto są wymagane.\");\n      return;\n    }\n\n    const payload = {\n      nazwa: nazwa.trim(),\n      miasto: miasto.trim(),\n      id_stadionu: idStadionu === \"\" ? null : idStadionu,\n      rok_zalozenia: rokZalozenia === \"\" ? null : rokZalozenia,\n    };\n\n    try {\n      await updateOne(\"kluby\", idKlubu, payload);\n      router.push(\"/kluby\");\n    } catch (err) {\n      console.error(\"Błąd aktualizacji klubu:\", err);\n      setError(\"Nie udało się zaktualizować klubu.\");\n    }\n  };\n\n  if (loading) {\n    return <p>Ładowanie danych klubu…</p>;\n  }\n\n  if (error) {\n    return (\n      <div>\n        <h1>Błąd</h1>\n        <p style={{ color: \"red\" }}>{error}</p>\n        <button onClick={() => router.push(\"/kluby\")} style={{ marginTop: \"1rem\" }}>\n          Powrót do listy\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1>Edytuj klub (ID: {idKlubu})</h1>\n      <form onSubmit={handleSubmit} style={{ maxWidth: 400 }}>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Nazwa:</label>\n          <br />\n          <input\n            type=\"text\"\n            value={nazwa}\n            onChange={(e) => setNazwa(e.target.value)}\n            required\n          />\n        </div>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Miasto:</label>\n          <br />\n          <input\n            type=\"text\"\n            value={miasto}\n            onChange={(e) => setMiasto(e.target.value)}\n            required\n          />\n        </div>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>ID stadionu (opcjonalnie):</label>\n          <br />\n          <input\n            type=\"number\"\n            value={idStadionu}\n            onChange={(e) =>\n              setIdStadionu(\n                e.target.value === \"\" ? \"\" : parseInt(e.target.value, 10)\n              )\n            }\n            min={1}\n          />\n        </div>\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Rok założenia (opcjonalnie):</label>\n          <br />\n          <input\n            type=\"number\"\n            value={rokZalozenia}\n            onChange={(e) =>\n              setRokZalozenia(\n                e.target.value === \"\" ? \"\" : parseInt(e.target.value, 10)\n              )\n            }\n            min={0}\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          style={{\n            marginTop: \"1rem\",\n            backgroundColor: \"#0070f3\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Zapisz zmiany\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/kluby\")}\n          style={{\n            marginTop: \"1rem\",\n            marginLeft: \"1rem\",\n            backgroundColor: \"#aaa\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Anuluj\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}