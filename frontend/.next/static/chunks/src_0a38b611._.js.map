{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/mecze/%5Bid%5D/statystyki-wydarzenia/page.tsx"],"sourcesContent":["// frontend/src/app/mecze/[idMeczu]/statystyki-wydarzenia/page.tsx\n\"use client\";\n\nimport { useRouter, useParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { getAll, deleteOne } from \"@/api\";\n\ntype Wydarzenie = {\n  id_wydarzenia: number;\n  nazwa: string | null;\n};\n\ntype Instancja = {\n  id: number;\n  id_wydarzenia: number;\n  id_meczu: number;\n  id_pilkarza: number;\n  minuta: number;\n  minuta_czasu_doliczonego: number | null;\n};\n\nexport default function MeczStatystykiWydarzeniaPage() {\n  const router = useRouter();\n  const params = useParams(); // { idMeczu: \"123\" }\n  const idMeczu = Number(params?.id);\n\n  const [instancje, setInstancje] = useState<Instancja[]>([]);\n  const [wydarzenia, setWydarzenia] = useState<Record<number, string>>({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!idMeczu) {\n      setError(\"Brak ID meczu w URL.\");\n      setLoading(false);\n      return;\n    }\n\n    // 1) Pobierz wszystkie nazwy wydarzeń (mecz_statystyki_wydarzenia)\n    // 2) Pobierz wszystkie instancje dla meczu (mecz_statystyki_wydarzenia_na_boisku) i filtruj po id_meczu\n    Promise.all([\n      getAll(\"mecz_statystyki_wydarzenia\"),\n      getAll(\"mecz_statystyki_wydarzenia_na_boisku\"),\n    ])\n      .then(([resWydarzenia, resInstancje]) => {\n        // Zmapuj id_wydarzenia → nazwa\n        const mapa: Record<number, string> = {};\n        (resWydarzenia.data as Wydarzenie[]).forEach((w) => {\n          mapa[w.id_wydarzenia] = w.nazwa || \"-\";\n        });\n        setWydarzenia(mapa);\n\n        // Filtruj instancje po id_meczu\n        const filtrowane = (resInstancje.data as Instancja[]).filter(\n          (inst) => inst.id_meczu === idMeczu\n        );\n        setInstancje(filtrowane);\n      })\n      .catch((err) => {\n        console.error(\"Błąd pobierania statystyk wydarzeń:\", err);\n        setError(\"Nie udało się pobrać statystyk wydarzeń dla tego meczu.\");\n      })\n      .finally(() => setLoading(false));\n  }, [idMeczu]);\n\n  const handleUsuń = async (idInstancji: number) => {\n    if (!window.confirm(\"Na pewno usunąć tę instancję wydarzenia?\")) return;\n    try {\n      await deleteOne(\"mecz_statystyki_wydarzenia_na_boisku\", idInstancji);\n      setInstancje((prev) =>\n        prev.filter((inst) => inst.id !== idInstancji)\n      );\n    } catch (err) {\n      console.error(\"Błąd usuwania instancji wydarzenia:\", err);\n      setError(\"Nie udało się usunąć instancji. Spróbuj ponownie.\");\n    }\n  };\n\n  if (loading) return <p>Ładowanie statystyk wydarzeń…</p>;\n  if (error)\n    return (\n      <div>\n        <h1>Błąd</h1>\n        <p style={{ color: \"red\" }}>{error}</p>\n        <button\n          onClick={() => router.push(\"/mecze\")}\n          style={{ marginTop: 16 }}\n        >\n          Powrót do listy meczów\n        </button>\n      </div>\n    );\n\n  return (\n    <div>\n      <h1>Statystyki wydarzeń meczu (ID meczu: {idMeczu})</h1>\n\n      {instancje.length === 0 ? (\n        <p>Brak wydarzeń dla tego meczu.</p>\n      ) : (\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                ID instancji\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                Nazwa wydarzenia\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                ID gracza\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>Minuta</th>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                Minuta doliczona\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                Akcje\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {instancje.map((inst) => (\n              <tr key={inst.id}>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  {inst.id}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  {wydarzenia[inst.id_wydarzenia] || \"-\"}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  {inst.id_pilkarza}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  {inst.minuta}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  {inst.minuta_czasu_doliczonego ?? \"-\"}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                  <button\n                    onClick={() => handleUsuń(inst.id)}\n                    style={{\n                      backgroundColor: \"#e00\",\n                      color: \"#fff\",\n                      padding: \"4px 8px\",\n                      border: \"none\",\n                      borderRadius: 4,\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    Usuń\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <button\n        onClick={() => router.push(\"/mecze\")}\n        style={{ marginTop: 16 }}\n      >\n        Powrót do listy meczów\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}