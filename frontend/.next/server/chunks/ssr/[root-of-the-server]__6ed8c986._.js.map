{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/kluby/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { getAll, deleteOne } from \"@/api\";\n\ntype Klub = {\n  id_klubu: number;\n  nazwa: string;\n  miasto: string;\n  id_stadionu: number | null;\n  rok_zalozenia: number | null;\n};\n\nexport default function KlubyListPage() {\n  const router = useRouter();\n  const [kluby, setKluby] = useState<Klub[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchKluby = async () => {\n    try {\n      const res = await getAll(\"kluby\");\n      setKluby(res.data);\n    } catch (err) {\n      console.error(\"Błąd pobierania listy klubów:\", err);\n      setError(\"Nie udało się pobrać listy klubów.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchKluby();\n  }, []);\n\n  const handleDelete = async (id: number) => {\n    if (\n      !confirm(\n        \"Czy na pewno chcesz usunąć ten klub? Operacji nie da się cofnąć.\"\n      )\n    ) {\n      return;\n    }\n    try {\n      await deleteOne(\"kluby\", id);\n      // odświeżenie listy\n      fetchKluby();\n    } catch (err) {\n      console.error(\"Błąd usuwania klubu:\", err);\n      alert(\"Nie udało się usunąć klubu.\");\n    }\n  };\n\n  if (loading) {\n    return <p>Ładowanie danych…</p>;\n  }\n\n  if (error) {\n    return (\n      <div>\n        <h1>Błąd</h1>\n        <p style={{ color: \"red\" }}>{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1>Lista Klubów</h1>\n      <button\n        onClick={() => router.push(\"/kluby/dodaj\")}\n        style={{\n          marginBottom: \"1rem\",\n          backgroundColor: \"#0070f3\",\n          color: \"#fff\",\n          padding: \"0.5rem 1rem\",\n          border: \"none\",\n          borderRadius: 4,\n          cursor: \"pointer\",\n        }}\n      >\n        Dodaj nowy klub\n      </button>\n\n      {kluby.length === 0 ? (\n        <p>Brak klubów w bazie.</p>\n      ) : (\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                ID\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                Nazwa\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                Miasto\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                Stadion (ID)\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                Rok założenia\n              </th>\n              <th style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                Akcje\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {kluby.map((klub) => (\n              <tr key={klub.id_klubu}>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  {klub.id_klubu}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  {klub.nazwa}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  {klub.miasto}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  {klub.id_stadionu !== null ? klub.id_stadionu : \"—\"}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  {klub.rok_zalozenia !== null ? klub.rok_zalozenia : \"—\"}\n                </td>\n                <td style={{ border: \"1px solid #ccc\", padding: \"0.5rem\" }}>\n                  <Link\n                    href={`/kluby/edytuj/${klub.id_klubu}`}\n                    style={{ marginRight: \"0.5rem\" }}\n                  >\n                    Edytuj\n                  </Link>\n                  <Link\n                    href={`/kluby/${klub.id_klubu}/usun`}\n                    style={{ color: \"red\" }}\n                  >\n                    Usuń\n                  </Link>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}