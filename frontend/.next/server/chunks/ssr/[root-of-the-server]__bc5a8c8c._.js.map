{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/api/index.js"],"sourcesContent":["// src/api/index.js\n\nimport axios from \"axios\";\n\n// Jeśli Twój FastAPI działa np. pod http://127.0.0.1:8000\nconst API_BASE = \"http://localhost:8000\";\n\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Przykład wrappera GET wszystkich z danej tabeli\nexport const getAll = (entity) => api.get(`/api/${entity}/`);\n\n// GET jednego po ID\nexport const getOne = (entity, id) => api.get(`/api/${entity}/${id}`);\n\n// POST – tworzenie nowego\nexport const createOne = (entity, data) => api.post(`/api/${entity}/`, data);\n\n// PUT – aktualizacja po ID\nexport const updateOne = (entity, id, data) =>\n  api.put(`/api/${entity}/${id}`, data);\n\n// DELETE – usuwanie po ID\nexport const deleteOne = (entity, id) => api.delete(`/api/${entity}/${id}`);\n\n// W przypadku tabel z kluczem złożonym (np. pilkarz_pozycja czy klub_budzet),\n// będziesz musiał dopasować endpointy do konstrukcji /api/kluby_budzet/?id_klubu=…&data=…\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;;;AAEnB;;AAEA,0DAA0D;AAC1D,MAAM,WAAW;AAEV,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,SAAS,CAAC,SAAW,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAGpD,MAAM,SAAS,CAAC,QAAQ,KAAO,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI;AAG7D,MAAM,YAAY,CAAC,QAAQ,OAAS,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;AAGhE,MAAM,YAAY,CAAC,QAAQ,IAAI,OACpC,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE;AAG3B,MAAM,YAAY,CAAC,QAAQ,KAAO,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,IAAI,GAE1E,8EAA8E;CAC9E,0FAA0F","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/szymon/Desktop/ID-TCS-projekt/frontend/src/app/kontuzje/dodaj/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { getAll, createOne } from \"@/api\";\n\ntype Pilkarz = {\n  id_pilkarza: number;\n  imie: string;\n  nazwisko: string;\n};\n\ntype Mecz = {\n  id_meczu: number;\n  id_gospodarze: number;\n  id_goscie: number;\n  data: string;\n};\n\nexport default function KontuzjeDodajPage() {\n  const router = useRouter();\n\n  // Formularz:\n  const [idPilkarza, setIdPilkarza] = useState<number | \"\">(\"\");\n  const [idMeczu, setIdMeczu] = useState<number | \"\">(\"\"); // opcjonalnie\n  const [dataKontuzji, setDataKontuzji] = useState<string>(\"\"); // YYYY-MM-DD\n  const [opis, setOpis] = useState<string>(\"\");\n  const [czasLeczenia, setCzasLeczenia] = useState<number | \"\">(\"\");\n\n  // Do SELECTa:\n  const [pilkarze, setPilkarze] = useState<Pilkarz[]>([]);\n  const [mecze, setMecze] = useState<Mecz[]>([]);\n\n  const [error, setError] = useState<string | null>(null);\n\n  // Pobierz listę piłkarzy i meczów dla selectów\n  useEffect(() => {\n    getAll(\"pilkarze\")\n      .then((res) => setPilkarze(res.data))\n      .catch((_) => {\n        console.error(\"Błąd pobierania piłkarzy\");\n      });\n    getAll(\"mecze\")\n      .then((res) => setMecze(res.data))\n      .catch((_) => {\n        console.error(\"Błąd pobierania meczów\");\n      });\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Walidacja:\n    if (\n      idPilkarza === \"\" ||\n      dataKontuzji.trim() === \"\" ||\n      opis.trim() === \"\" ||\n      czasLeczenia === \"\"\n    ) {\n      setError(\n        \"Proszę wypełnić obowiązkowe pola: Piłkarz, Data, Opis, Czas leczenia.\"\n      );\n      return;\n    }\n\n    try {\n      await createOne(\"kontuzje\", {\n        id_pilkarza: Number(idPilkarza),\n        id_meczu: idMeczu === \"\" ? null : Number(idMeczu),\n        data_kontuzji: dataKontuzji,\n        opis_kontuzji: opis.trim(),\n        przewidywany_czas_leczenia_w_dniach: Number(czasLeczenia),\n      });\n      router.push(\"/kontuzje\");\n    } catch (err) {\n      console.error(\"Błąd tworzenia kontuzji:\", err);\n      setError(\"Nie udało się dodać kontuzji. Spróbuj ponownie.\");\n    }\n  };\n\n  return (\n    <div>\n      <h1>Dodaj nową kontuzję</h1>\n      {error && (\n        <p style={{ color: \"red\", marginBottom: \"1rem\" }}>{error}</p>\n      )}\n      <form onSubmit={handleSubmit} style={{ maxWidth: 400 }}>\n        {/* Wybór piłkarza */}\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Piłkarz:</label>\n          <br />\n          <select\n            value={idPilkarza}\n            onChange={(e) => setIdPilkarza(Number(e.target.value))}\n            required\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          >\n            <option value=\"\">— wybierz piłkarza —</option>\n            {pilkarze.map((p) => (\n              <option key={p.id_pilkarza} value={p.id_pilkarza}>\n                {p.imie} {p.nazwisko} (ID {p.id_pilkarza})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Wybór meczu (opcjonalne) */}\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Mecz (opcjonalnie):</label>\n          <br />\n          <select\n            value={idMeczu}\n            onChange={(e) => setIdMeczu(Number(e.target.value))}\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          >\n            <option value=\"\">— bez meczu —</option>\n            {mecze.map((m) => (\n              <option key={m.id_meczu} value={m.id_meczu}>\n                ID {m.id_meczu} | {new Date(m.data).toLocaleDateString(\"pl-PL\")} |{\" \"}\n                {m.id_gospodarze} vs {m.id_goscie}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Data kontuzji */}\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Data kontuzji:</label>\n          <br />\n          <input\n            type=\"date\"\n            value={dataKontuzji}\n            onChange={(e) => setDataKontuzji(e.target.value)}\n            required\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        {/* Opis kontuzji */}\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Opis kontuzji:</label>\n          <br />\n          <textarea\n            value={opis}\n            onChange={(e) => setOpis(e.target.value)}\n            required\n            rows={3}\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        {/* Przewidywany czas leczenia */}\n        <div style={{ marginBottom: \"0.5rem\" }}>\n          <label>Przewidywany czas leczenia (dni):</label>\n          <br />\n          <input\n            type=\"number\"\n            value={czasLeczenia}\n            onChange={(e) => setCzasLeczenia(Number(e.target.value))}\n            required\n            min={1}\n            style={{ width: \"100%\", padding: \"0.4rem\" }}\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          style={{\n            marginTop: \"1rem\",\n            backgroundColor: \"#0070f3\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Zapisz\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/kontuzje\")}\n          style={{\n            marginTop: \"1rem\",\n            marginLeft: \"1rem\",\n            backgroundColor: \"#aaa\",\n            color: \"#fff\",\n            padding: \"0.5rem 1rem\",\n            border: \"none\",\n            borderRadius: 4,\n            cursor: \"pointer\",\n          }}\n        >\n          Anuluj\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}